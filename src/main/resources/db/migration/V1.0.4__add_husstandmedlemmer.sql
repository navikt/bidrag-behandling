CREATE TYPE BO_STATUS_TYPE AS ENUM
(
    'IKKE_REGISTRERT_PA_ADRESSE',
    'DOKUMENTERT_SKOLEGANG',
    'DOKUMENTERT_BOENDE_HOS_BM',
    'BARN_BOR_ALENE'
);

CREATE CAST (VARCHAR AS BO_STATUS_TYPE) WITH INOUT AS IMPLICIT;

CREATE TABLE BEHANDLING_BARN (
    ID              INT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY (INCREMENT 1 START 1 MINVALUE 1),
    BEHANDLING_ID   INT NOT NULL,
    MED_I_SAKEN     BOOLEAN,
    FRA_DATO        DATE,
    TIL_DATO        DATE,
    BO_STATUS       BO_STATUS_TYPE,
    KILDE           TEXT,
    IDENT           VARCHAR(20),
    NAVN            TEXT,
    FOEDSELS_DATO   DATE,
    CONSTRAINT FK_BEHANDLING_ID FOREIGN KEY (BEHANDLING_ID)
    REFERENCES BEHANDLING (ID) MATCH SIMPLE
);